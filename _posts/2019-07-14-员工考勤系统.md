---
title: Employee record system
key: 20190714
tags: java
---

### ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªç”¨javaå®Œæˆçš„å‘˜å·¥è€ƒå‹¤ç³»ç»Ÿï¼Œä¸»è¦æ¶‰åŠjavaåŸºæœ¬è¯­æ³•ï¼Œæ–‡ä»¶è¯»å†™ï¼Œå¼‚å¸¸å¤„ç†ç­‰
{:.info}

é¡¹ç›®åœ°å€ï¼š[æˆ³è¿™é‡Œ]()

##### å®ç°çš„åŠŸèƒ½ï¼š  

> æ™®é€šç”¨æˆ·ï¼šç”¨æˆ·ç™»å½•ï¼Œç­¾åˆ°ã€‚ç­¾é€€ï¼ŒæŸ¥è¯¢ä¿¡æ¯ï¼ˆéƒ¨åˆ†ï¼‰ï¼ŒæŸ¥è¯¢å…¨éƒ¨èŒå·¥è´¦æˆ·å

> ç®¡ç†å‘˜ï¼šç™»å½•ï¼Œå¢åŠ ç”¨æˆ·ï¼Œåˆ é™¤ç”¨æˆ·ï¼ŒæŸ¥è¯¢ä¿¡æ¯ï¼ˆå…¨éƒ¨ï¼‰ï¼ŒæŸ¥è¯¢å…¨éƒ¨èŒå·¥è´¦æˆ·åã€å¯†ç åŠçŠ¶æ€


### è®¾è®¡æ€è·¯

ç±»å›¾(æ²¡å†™å®Œ...)
{:.info}

![ç±»å›¾](http://i2.tiimg.com/691221/accc0387d4a993c5.png)


æ ¸å¿ƒä»£ç 
{:.info}



æ–‡ä»¶åˆ›å»ºä¸å†™å…¥ï¼šå¾ªç¯è´¦æˆ·å§“ååˆ—è¡¨ä¸­çš„å§“åï¼Œå¹¶ä»¥æ­¤ä¸ºæ–‡ä»¶åï¼Œç”Ÿæˆå­˜æ”¾ç”¨æˆ·ä¿¡æ¯çš„æ–‡ä»¶ï¼ˆtxtï¼‰
{:.warning}

```java

	public void readinfo() throws IOException 
	{
		for(String n:user.names) {
			String name = n;
			File file = new File("f:/dir/"+name+".txt");
			//å®šä¹‰ä¸€ä¸ªfileReaderå¯¹è±¡ï¼Œç”¨æ¥åˆå§‹åŒ–BufferedReader
			FileReader reader = new FileReader(file);
			//å®šä¹‰ä¸€ä¸ªBufferedReaderå¯¹è±¡ï¼Œå°†æ–‡ä»¶å†…å®¹è¯»å–åˆ°ç¼“å­˜
			BufferedReader bReader = new BufferedReader(reader);
			//å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ç¼“å­˜ï¼Œå°†å­—ç¬¦ä¸²å­˜æ”¾ç¼“å­˜ä¸­
			StringBuilder sb = new StringBuilder();
	        user.names.clear();
	        user.names.add(bReader.readLine());
	        user.IDs.clear();
			user.IDs.add(Integer.valueOf(bReader.readLine()));
			user.signintimes.clear();
			user.signintimes.add(bReader.readLine());
			user.signouttimes.clear();
			user.signouttimes.add(bReader.readLine());
	        
	        bReader.close();
	        String str = sb.toString();
	        String[] nnnnn  = str.split("\n");
	        for(String info:nnnnn) 
	        {
	        	System.out.println(info);
	        }
		}
	}
  
```


æ–‡ä»¶ä¸æ ¼å¼è½¬åŒ–ï¼šè¯»å–æ–‡ä»¶ä¸­çš„ä¿¡æ¯è¯»å–å¹¶è½¬åŒ–æˆStringç±»å‹å­˜å…¥ArrayListåˆ—è¡¨ä¸­
{:.warning}

```java

public void writeinfo() throws IOException 
	{
		for(String n:user.names)
		{
			String name = n;
			File file = new File("f:/dir/"+name+".txt");
			int index = user.names.indexOf(name);
			if(!file.exists()) 
			{
				File dir = new File(file.getParent());
				dir.mkdirs();
				file.createNewFile();
				FileWriter file1 = new FileWriter(file);
				file1.write(name);
				file1.write(user.IDs.get(index));
				file1.write(user.status.get(index));
				file1.write(user.signintimes.get(index));
				file1.write(user.signouttimes.get(index));
				file1.flush();
				file1.close();
			}else 
			{
				FileWriter file2 = new FileWriter("f:/dir"+name+".txt");
				file2.write(name+System.getProperty("line.separator"));
				file2.write(user.IDs.get(index)+System.getProperty("line.separator"));
				file2.write(user.status.get(index)+System.getProperty("line.separator"));
				file2.write(user.signintimes.get(index)+System.getProperty("line.separator"));
				file2.write(user.signouttimes.get(index)+System.getProperty("line.separator"));
				file2.flush();
				file2.close();
			}
		}
	}
  
```



ç™»å½•åŠŸèƒ½ï¼Œæ£€æŸ¥è¾“å…¥å¹¶éªŒè¯ä¿¡æ¯ï¼Œï¼ˆå…ˆæ‰§è¡Œè¯»å–æ–‡ä»¶æ“ä½œï¼Œè·å¾—ä¿å­˜ç€ç”¨æˆ·ä¿¡æ¯çš„ArrayListsï¼Œä»¥å®ç°åç»­åŠŸèƒ½ï¼‰
{:.warning}


```java

public int signIn() throws IOException 
	{
		data.readinfo();
		System.out.println(data.user.names);
		int i = 1;
		System.out.println("\tåºå·\t\tID");
		for(int element:data.user.IDs) 
		{
			System.out.println("\t"+i+"\t\t\t"+element);
			i++;
		}
		System.out.println();
		try
		{
			System.out.println("è¯·è¾“å…¥ä½ çš„ID");
			Scanner in = new Scanner(System.in);
			int id = in.nextInt();
			if(data.user.IDs.indexOf(id)!=-1)
			{
				System.out.println("è¯·è¾“å…¥ä½ çš„å§“å");
				String name = in.next();
				if(data.user.IDs.indexOf(id)!=-1) 
				{
					int idindex = data.user.IDs.indexOf(id);
					int nameindex  = data.user.names.indexOf(name);
					if(idindex == nameindex)
					{
						System.out.println("èº«ä»½éªŒè¯æˆåŠŸï¼");
					}else {System.out.println("å§“åä¸IDä¸ç¬¦ï¼Œè¯·å°è¯•é‡æ–°ç™»é™†");return 1;}
				}else {System.out.println("ç”¨æˆ·åä¸å­˜åœ¨ï¼");return 1;}
				
			}else {System.out.println("ç”¨æˆ·IDä¸å­˜åœ¨ï¼");return 1;}
			return id;
		}catch(InputMismatchException e ) 
		{
			System.out.println("ç”¨æˆ·åæˆ–IDè¾“å…¥ä¸åˆæ³•ï¼");
		}
		return 1;
		
	}
  
```



è·å¾—ç­¾åˆ°äºç­¾é€€çš„æ—¶é—´ï¼Œè¿”å›Stringç±»å‹
{:.warning}

```java

	SimpleDateFormat formatTime = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
	public String signInTime() 
	{
		Date datein = new Date();
		return formatTime.format(datein);		
	}
	
	public String signOutTime() 
	{
		Date dateout = new Date();
		return formatTime.format(dateout);
	}

```


ä¸»èœå•ä¸ä¸¤ä¸ªå­èœå•ï¼ˆæ™®é€šç”¨æˆ·ç•Œé¢ä¸ç®¡ç†å‘˜ç•Œé¢ï¼‰ï¼Œæ ¹æ®è¾“å…¥æ‰§è¡Œç›¸åº”æ“ä½œ
{:.warning}

```java

//æ­¤å¤„çœç•¥198è¡Œ...

```


### æ”¶è·

é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ³•
{:.error}

* é—®é¢˜ä¸€ï¼šä½¿ç”¨Scannerè¿›è¡Œç”¨æˆ·è¾“å…¥æ—¶ï¼Œè¾“å…¥ä¿¡æ¯åå‡ºç°ç¨‹åºé•¿æ—¶é—´ç­‰å¾…

è§£å†³ï¼šScannerè¾“å…¥åï¼Œå¦‚æœå…³é—­è¾“å…¥æµ`scanner.close()`ï¼Œåˆ™åç»­çš„æ–°åˆ›å»ºçš„Scannerå¯¹è±¡å¿…ç„¶æŠ¥é”™ï¼Œä»¥åScannerå¯¹è±¡å†ä¹Ÿä¸æ•¢å…³é—­äº†ğŸ˜­
{:.success}

* é—®é¢˜äºŒï¼šå¼•ç”¨ç±»å¯¹è±¡æ—¶ï¼Œä¿¡æ¯ä¸æ–­è¢«åˆ·æ–°ï¼Œå³æ— æ³•æ°¸ä¹…å­˜å‚¨

è§£å†³ï¼šæ¯å½“newä¸€ä¸ªç±»å¯¹è±¡æ—¶ï¼Œå°±ä¼šæ–°å¼€è¾Ÿä¸€ä¸ªå†…å­˜ç©ºé—´ä»¥å­˜å‚¨æ•°æ®ï¼Œè‡ªç„¶ä¸èƒ½å®ç°æ•°æ®çš„è¿ç»­æ“ä½œï¼Œå› æ­¤ï¼ŒæŒ‡å‘ç”¨æˆ·ä¿¡æ¯çš„å¯¹è±¡å¿…é¡»è®¾ä¸ºé™æ€å¯¹è±¡
{:.success}

* é—®é¢˜ä¸‰ï¼šæ•°æ®è¯»å–æ—¶ï¼Œç¬¬ä¸€è¡Œä¸èƒ½è¯»å–ï¼Œä½†å¯¹ç¬¬äºŒè¡Œä¹‹åçš„æ•°æ®èƒ½å¤Ÿæ­£å¸¸è¯»å–å¹¶è¾“å‡º

è§£å†³ï¼šwindowsç³»ç»Ÿtxtæ–‡ä»¶çš„é»˜è®¤ä¸ºAISNç¼–ç ï¼Œä¸ºèƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å°†æ–‡ä»¶æ”¹ä¸ºUTF-8ç¼–ç ï¼Œä½†æ˜¯åªèƒ½ä¿å­˜ä¸ºå¸¦æœ‰DOMç»“æ„çš„UTF-8æ–‡ä»¶ï¼Œ
å³ä¼šåœ¨å¤´æ–‡ä»¶ä¸­æ’å…¥DOMæ ‡è¯†ç¬¦â€œEF BB BFâ€ï¼ŒJDKåªèƒ½è¾¨åˆ«ä½†ä¸èƒ½æ­£ç¡®å¤„ç†æ­¤ç±»æ–‡ä»¶ï¼ˆå®˜æ–¹å£°æ˜çš„JDKå­˜åœ¨çš„BUGï¼ŒBug ID:4508058ï¼‰
ç”¨EditorPlusæˆ–è€…Notepad++å°†æ–‡ä»¶ä¿å­˜æˆæ— DOMç»“æ„çš„UTF-8æ–‡ä»¶å³å¯ã€‚
{:.success}

* é—®é¢˜å››ï¼šStringç±»å‹å†™å…¥æ–‡ä»¶åï¼Œå‡ºç°éƒ¨åˆ†ä¹±ç ï¼Œç¨‹åºæ–¹æ³•æ— æ³•æ­£ç¡®è¯»å–

è§£å†³ï¼šå°šæœªè§£å†³ï¼Œå°†ç”¨æ•°æ®æµçš„å½¢å¼è¿›è¡Œå­˜å‚¨ï¼Œç›®å‰ä½¿ç”¨FileReaderæ–¹æ³•å¤±è´¥ã€‚
{:.success}

* é—®é¢˜äº”å…­ä¸ƒå…«ä¹.....
